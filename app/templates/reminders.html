{% extends "base.html" %}

{% block content %}
<div class="reminders-page">
    <h2>Мои напоминания</h2>
    
    <div id="remindersList" class="reminders-list">
        {% for reminder in reminders %}
        <div class="reminder-card {% if not reminder.is_active %}inactive{% endif %}" data-id="{{ reminder.id }}">
            <div class="reminder-info">
                <h3>{{ reminder.medication.name }}</h3>
                <p class="dosage">{{ reminder.medication.dosage }}</p>
                <p class="time">⏰ {{ reminder.time }}</p>
                <p class="days">
                    {% set day_names = ['Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб', 'Вс'] %}
                    {% for day in reminder.days %}
                    <span class="day-tag">{{ day_names[day|int] }}</span>
                    {% endfor %}
                </p>
            </div>
            <div class="reminder-actions">
                <button class="toggle-btn" onclick="toggleReminder({{ reminder.id }})">
                    {{ 'Выключить' if reminder.is_active else 'Включить' }}
                </button>
                <button class="delete-btn" onclick="deleteReminder({{ reminder.id }})">Удалить</button>
            </div>
        </div>
        {% else %}
        <p class="no-reminders">Нет добавленных напоминаний</p>
        {% endfor %}
    </div>
</div>
{% endblock %}